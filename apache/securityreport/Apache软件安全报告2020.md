- **原文标题：** The Apache Software Foundation Blog
- **原文链接：** https://blogs.apache.org/foundation/entry/apache-software-foundation-security-report1
- **提交路径：** translation/apache/securityreport/Apache软件安全报告2020.md

# Apache软件基金会博客
Apache 软件基础安全报告：2020 年

概要：本报告探讨了 2020  年所有Apache软件基金会项目的安全状况。我们回顾了关键指标、特定漏洞以及 ASF 项目用户受安全问题影响的最常见方式。

发布时间：2021 年 1 月

作者：Mark Cox，Apache 软件基金会安全副总裁

## 背景

Apache 软件基金会（ASF）的安全委员会负责监管和协调所有 340 多个Apache项目中漏洞的处理。我们成立于 2002 年，由所有志愿者组成，我们对如何处理问题有一个[标准流程](https://s.apache.org/cveprocess)，这个过程包括我们的项目必须如何披露安全问题。

 在 Apache 项目中发现安全问题的人都可以将其报告给 security@apache.org，在那里它们会被记录下来并传递给相关的[专门安全团队](https://apache.org/security/projects.html)或项目管理委员会（PMC）来处理。安全委员会监控所有项目报告的所有问题，并在整个漏洞生命周期中跟踪问题。

安全委员会负责确保问题得到妥善处理，并积极提醒项目突出的问题和责任。作为董事会委员会，我们有能力采取行动，包括阻止其未来的发布，或者在最坏的情况下，如果项目对处理其安全问题没有响应，则将项目归档。这与 Apache 软件许可证一起，是 ASF 围绕官方发布的通用治理的关键组成部分，使 ASF 能够保护个人开发人员，并让用户有信心部署和依赖 ASF 软件。

对所有安全报告的监管以及我们开发的工具使我们能够轻松创建有关问题的指标。我们的上一份报告[涵盖了2019年的指标](https://blogs.apache.org/foundation/entry/apache-software-foundation-security-report)。

## 2020年统计数据

2020 年，我们的安全电子邮件地址共收到 18，000 封电子邮件。在垃圾邮件过滤和讨论主题分组之后，有 946个（2019：620个）非垃圾邮件主题。不幸的是，许多安全报告看起来像垃圾邮件，因此安全团队会仔细检查所有邮件，以确保真实报告不会错过太长时间。
![img](https://lh5.googleusercontent.com/oNWUqrENFNXhWmIgpq1Sq9LLO9LbJdOXcxf0M4LomAYDGiENfs60pIdAHkttKM4kMDf2IfKVja-IjJA9lYOwabmW-xyIwxvuC0D4LEaA9LLp57HWONyR3VscbR80ndJMXz7Zr2jA)
图表 1：2020 日历年 ASF 安全电子邮件主题细分


图 1 给出了这 946 个主题的细分。257 个主题（27%）是 Apache 许可证使用困惑相关的问题。由于许多项目使用 Apache 许可证，而不仅仅是那些在 ASF 保护伞下的项目，当人们看到 Apache 许可证并且他们不明白它是什么时，他们可能会感到困惑。这在手机上最常见，例如在设置菜单中显示许可证的手机上，通常是由于包含 Google 根据 Apache 许可证发布的软件。我们不再回复这些电子邮件。这几乎是我们在 2019 年看到的数字的两倍。

接下来的 946 个（23%）中，220 个电子邮件主题是大家询问非安全（通常是支持类型）问题。

接下来的 93 份报告是研究人员在 Apache 网站上报告问题。这些几乎总是误报;研究人员报告我们启用了目录列表、源代码可见或缺少各种域标头。这些报告通常是一些公开可用的扫描工具的未经过滤的输出，并且经常是报告者要求我们为他们的报告提供某种金钱奖励（赏金）的地方。

剩下的 376（2019年：320份）份关于 2020 年新漏洞的报告，这些报告涵盖了 101 个顶级项目。这 376 份报告既来源于外部报告者也来源内部报告者。例如，如果一个项目自己发现了一个问题，并按照 ASF 流程为其分配了一个 CVE 名称并解决了它，我们仍然会在这里计算它。我们不会保留能够提供内部报告与外部报告细分的指标。

下一步是相应的项目对报告进行分类，以查看它是否确实是一个问题。无效报告和实际上不是漏洞的报告将被拒绝返回给报告者。在接受的其余问题中，它们被分配了适当的 CVE 名称，并最终发布了修复程序。

截至 2021 年 1 月 1 日，这 376 份报告中有 35 份仍在分类中（即项目尚未确定该报告是被接受还是被拒绝）。

剩下的已关闭的341 个（2019：301个）报告导致我们分配了 151 个（2019：122个）CVE名称。某些漏洞报告可能包含多个问题，某些报告跨多个项目，并且某些报告是重复的，其中不同的报告者发现了相同的问题，因此所接受的报告与 CVE 名称之间并没有一个精确的一对一的映射。Apache 安全委员会负责处理 CVE 名称分配，并且是 Mitre 候选命名机构 （CNA），因此任何 ASF 项目中对 CVE 名称的所有请求都将通过我们来处理，即使报告者不知道，并直接与 Mitre 联系或在联系我们之前公开提出问题。

## 值得注意的事件

2020 年有几件事件值得讨论;要么是因为它们是严重和高风险的，要么因为它们有现成的漏洞，要么是由于媒体的关注。其中包括：

- 2 月：Tomcat  ([CVE-2020-1938](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-1938))中的一个问题引起了媒体的兴趣，因为它被赋予了品牌和名称（"Ghostcat"），并在 Tomcat 发布公告之前由第三方协调中心披露（尽管在 Tomcat 的新版本中修复了该问题）。虽然这个漏洞如果被利用会很后果严重，但它只会影响 Tomcat 安装，它将未受保护的 AJP 连接器暴露给不受信任的网络（即使没有此问题，这也不是一件好事）。这限制了受影响的安装数量。针对此问题，各种概念验证漏洞都是公开的，包括 Metasploit 漏洞。

- 5 月：网络安全和基础设施安全局（CISA）发布了[十大经常被利用的漏洞列表](https://www.cisa.gov/uscert/ncas/alerts/aa20-133a)，包括([CVE-2017-5638](https://nvd.nist.gov/vuln/detail/CVE-2017-5638))，这是 Apache Struts 2中的远程命令执行（RCE）漏洞，于2017年披露并修复。已知此问题[在外部被利用](https://blog.talosintelligence.com/2017/03/apache-0-day-exploited.html)，但是第一次利用是在发布公告和修复程序后发现的。

- 7 月：Apache Guacamole 1.1.0 及更早版本的版本容易受到 RDP、[CVE-2020-9497](https://lists.apache.org/thread/syfbkgg9ct1bkhm35lgr7ry6cswlvnwy) 和 [CVE-2020-9498](https://lists.apache.org/thread/zn57pp47fft5hjdm09trdny64mryf7bf) 中的问题的影响。如果用户连接到恶意或受损的 RDP 服务器，则可能导致内存泄露和可能的远程代码执行。

- 8 月：Apache Struts 中存在一个漏洞 （[CVE-2019-0230](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-0230)），可能导致任意代码执行。为了利用此漏洞，攻击者需要将恶意对象图导航语言 （OGNL） 表达式注入到 OGNL 表达式中使用的属性中。尽管 Struts 具有解决潜在注入表达式的缓解措施，但 2.5.22 之前的版本保留了一个打开的攻击界面，该攻击媒介已在此问题的[更新中修复](https://cwiki.apache.org/confluence/display/WW/S2-059)。存在一个针对此问题的 metasploit 漏洞利用。

- 11 月：以前，每个ASF项目都负责编写自己的CVE条目并将其提交给Mitre。因为使用了旧格式导致 CVE 条目被拒绝 ，导致很多 Apache 项目提交的 CVE 没有及时更新到 CVE 数据库中。我们发布了一个内部工具，为处理安全问题的项目提供了一种编辑、验证和提交其条目到 Mitre 的方法。我们的目标是在问题发布后的一天内更新 CVE 数据库。

- 12 月：CVE 项目发布了新的自动化 API，ASF 成为第一个使用它获取实时 CVE 名称的组织。现在，我们按需分配它们，而不是让安全团队持有预先请求的名称池，而该服务负责处理发送给 PMC 的电子邮件和自动化处理之前需要手动完成的功能。我们预计在 2021 年将实现更多自动化，使我们能够进一步简化项目的 CVE 流程。

Metasploit 漏洞利用还针对 Apache OFBiz（CSRF，[CVE-2019-0235](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-0235)）、Apache OpenMeetings（DoS、[CVE-2020-13951](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-13951)）、Apache Flink（任意读/写 RCE [CVE-2020-17518](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-17518) ）中的 2020 年问题发布, [CVE-2020-17519](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-17519) )

## 时间表

我们的安全团队和项目管理团队都是志愿者，因此我们不会在处理问题时提供任何正式的 SLA 。但是，我们可以分解流程每个部分的目的和目标：

分类：我们的目标是在三个工作日内处理发送到 [security@apache.org](mailto:security@apache.org) 的邮件。我们不会对此流程进行度量或报告，因为我们会评估每个接受到问题的严重性，并适当地应用我们拥有的有限资源。该团队由来自不同项目 PMC 的极少数志愿者组成。在安全团队将报告转发给 PMC 后，他们将回复报告者。因此，如果您向我们报告了问题，并且在一周后未收到任何回复，请向我们发送后续电子邮件。有时，报告者会发送报告，附上大型PDF文件，甚至是开发视频，而这些文件甚至视频都没有提交给我们，因此请确保任何后续行动都是简单的纯文本电子邮件。

调查：一旦报告被发送到项目管理委员会的私人列表，分类和调查的过程在时间上会有所不同，具体取决于项目，资源的可用性和要评估的问题的数量。由于安全问题是私下处理的，我们会将报告发送到私有邮件列表中。因此，这些报告不会传达给每个项目提交者，因此每个项目中只有一小部分人能够进行调查并作出响应。作为一般准则，我们努力确保项目在报告后的 90 天内对问题进行分类。ASF 安全团队会追踪超过 90 天的所有未处理问题。

修复：一旦对安全问题进行分类并接受，解决问题的时间表取决于项目本身的计划。严重性较低的问题最常保留到将来预先计划的版本中。

公告：我们的流程允许项目在推送修复版本和漏洞公告之间最多几天的时间内，让镜像赶上来。所有漏洞都通过[announce@apache.org](mailto:announce@apache.org) 列表[公布](mailto:announce@apache.org)。我们现在的目标是让它们在公告后的一天内出现在公开的 Mitre 列表中。

## 结论
Apache软件基金会的项目是高度多样化和独立的。他们有不同的语言、社区、管理和安全模型。但是，每个项目的共同点之一是如何处理报告的安全问题的一致过程。ASF 安全委员会与项目团队、社区和报告者密切合作，确保快速正确地处理问题。这种负责任的监管是 The Apache Way 的一项原则，有助于确保Apache软件的稳定性和可信赖性。

该报告提供了 2020 年的指标，显示我们从收到的 18，000封电子邮件中对与 ASF 项目相关的 370 多个漏洞报告进行了分类，从而修复了 151（CVE）问题。处理的非垃圾邮件主题数量比 2019 年增加了 53%，实际漏洞报告的数量增加了 13%，分配的 CVE 数量增加了 24%。

如果您有想要分享的漏洞信息或对此报告的评论，[请与我们联系](http://apache.org/security/#reporting-a-vulnerability)。
